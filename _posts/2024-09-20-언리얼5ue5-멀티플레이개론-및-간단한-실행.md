---
title: "[언리얼5/UE5] 멀티플레이개론 및 간단한 실행"
date: 2024-09-20
toc: true
categories:
  - "Tistory"
tags:
  - "tistory"
---

멀티플레이 게임 종류? 타입? 으로 크게 2가지가 있다.

* **P2P(peer to peer)**
* **Client Server**
  + Listen Server
  + Dedicated Server

간단히 보면 이런 구조이다.

## **P2P**

우선 P2P 에 대해서 그림으로 먼저보자

![](https://blog.kakaocdn.net/dna/bJfJdL/btsJEPz93dg/AAAAAAAAAAAAAAAAAAAAADtlmtnpvb-u0QPPI17otA0Jqlc4ZPrPeTi4-xjkKu5L/img.jpg?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1772290799&allow_ip=&allow_referer=&signature=%2FL79J1vVWUMbhWv2Zq%2B%2BHgOUwLA%3D)

player3에 r이 빠졌네요 :(

이렇게 player간에 소통을 하는 것이다.

player1에 Update가 있으면 player2 ~ player n 모두에게 나의 update를 전달해야된다.

소수의 인원이 이용하는 게임이라면 괜찮겠지만

 게임은 Update가 굉장히 많기 떄문에 유저가 많다면 곤란하다.

## **Client - Server**

그림을 먼저 보자

![](https://blog.kakaocdn.net/dna/bVLR3T/btsJDSYIstp/AAAAAAAAAAAAAAAAAAAAAJVvENEN-3X_JUOwR5P0WTCU-eYJdvHKoNGgYNoEAhtJ/img.jpg?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1772290799&allow_ip=&allow_referer=&signature=DVUKVJSgd1p%2F%2FfnkXLrgKh0J3oA%3D)

ciient (p2p로 보면 player)가 다른 client에게 직접 정보를 전달하지 않는다.

client들은 server에게 update를 전달한다 -> server는 update가 옳은 지 판별한다 ( 핵, 거짓 패킷 등등 일 수 있다)

-> 옳은 update라면 그것을 다른 client들에게 전달한다 ( replication)

이것이 Client - Server이다.

근데 Listen과 Dedicate은 또 무엇이냐

**Listen**

Client 중 1명이 Server일도 병행하는 것이다.

다른 Client들은 Server일을 하는 Client에게 Update를 전달한다.

**-단점 : Server일을 하는 Client에게 먼저 Update가 적용된다.  -> Clinet들간의 동작 속도가 차이가 날 수 있다.**

**Dediacted**

그림과 같이 Server를 따로 두고 그 서버에게 정보를 전달한다.

이론은 여기까지 배우고 간단한 실습을 해보자

점3개 나열된 것을 누른다 -> 최하단을 본다 -> 멀티 플레이 옵션을 만져보자

![](https://blog.kakaocdn.net/dna/xLI9F/btsJFcBHbD7/AAAAAAAAAAAAAAAAAAAAAC6HNBWZcTmepJ5k6uMClz_kjM6ralkpABdRQn7Cx8AR/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1772290799&allow_ip=&allow_referer=&signature=Pdo0Ko7%2F6qqUKDndDV%2BkHj9WFYM%3D)

Play Standalone -> 싱글모드로 생각하자

Play as Listen Server -> 위에서 말한 Listen Server를 사용하는 것이다.

![](https://blog.kakaocdn.net/dna/bauJ6q/btsJERR5OCn/AAAAAAAAAAAAAAAAAAAAAE0zdJKlZUBMZAXAIoYgghukBrCTVGwxij-rd-5rsjPZ/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1772290799&allow_ip=&allow_referer=&signature=r%2BmBH41%2BI22HUG22z0Y5BY%2BzRY8%3D)

본인이 3개 다 해보자

listen server만 포스팅해보겠다.

## 

## **Play As Listen Server**

![](https://blog.kakaocdn.net/dna/cdTKfd/btsJFb3RdCY/AAAAAAAAAAAAAAAAAAAAAAYkHHlHzHpuhu_ratiPpvkE2xdGHTXeNF69Bek75SDH/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1772290799&allow_ip=&allow_referer=&signature=QtuPH9BRL9mCKc1Vh49XjmDuB3Q%3D)

엔진에서 가동되고 있는 client가 server까지 담당하고 있는 것이다.

player as client로 바꿔서 우리가 보기는 같아보인다.

하지만 실제로는 엔진에서 가동되고 있는 client도 더이상 server가 아닌 client로서로만 존재한다.

## **다음 실습**

다음과 같이 Lobby 맵을 한개 만들어준다.

![](https://blog.kakaocdn.net/dna/bOibIx/btsJDTwxWTr/AAAAAAAAAAAAAAAAAAAAAObfc3q89iEFPI4YMZd6jfMzREHw-b-tb_wrVd3AzkSK/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1772290799&allow_ip=&allow_referer=&signature=HH%2BJogV1%2By9rjLlZG7P2SzC0FlU%3D)

그리고 BP\_ThirdPersonCharacter에 Blueprint를 추가해준다.

1을 누르면 Lobby를 Listen 형식(위에서 배운 server) 으로 연다.

2를 누르면 적혀있는 IP주소로 연결 시도 ( window검색창 -> cmd -> ipconfig -> 아이피 get!)

![](https://blog.kakaocdn.net/dna/3qOri/btsJFyqZQri/AAAAAAAAAAAAAAAAAAAAAFpBPSVQJlL2YHnJRHyK6fwp_b9c6Ih2W1yHDauottgK/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1772290799&allow_ip=&allow_referer=&signature=aTAT31br8b122SxMWI4np2F03cI%3D)

이렇게 설정하고 프로젝트를 Packaing해준다. 우리 프로젝트에 Build파일을 만들고 그곳에 packaging 하자

![](https://blog.kakaocdn.net/dna/bE9KLf/btsJDq2MD9X/AAAAAAAAAAAAAAAAAAAAADujY5d_O2qVM0E80moxcHeF1E-aYsbr5hi2nveWsCTc/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1772290799&allow_ip=&allow_referer=&signature=9nYCfKlLtyo0hZZF%2FPcvEaxGnSI%3D)

![](https://blog.kakaocdn.net/dna/035Bz/btsJED7B9eb/AAAAAAAAAAAAAAAAAAAAAIl65f_jEAYMXPpBeyAmQzr9mM-qv-GsSD1n7b9YnsDd/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1772290799&allow_ip=&allow_referer=&signature=YdYRZD5OxRtn4QlHjDISLfwiOa0%3D)

만들어진 패키지에서 exe파일 1개를 실행하고 1을 누른다. ( Lobby 생성)  
한 번더 실행시키고 2를 누른다. ( Looby에 참가. ip를 미리 설정해주었음)

![](https://blog.kakaocdn.net/dna/yFxTT/btsJDpbDo6V/AAAAAAAAAAAAAAAAAAAAAA8r9blWXd5PRx1pXnHAVkHJqkcfs9g606D6_MG_Rh0f/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1772290799&allow_ip=&allow_referer=&signature=BF%2FZpO7tbkTQu5lfDWYiVlRlbm8%3D)

![](https://blog.kakaocdn.net/dna/drO5bg/btsJE8zkf6e/AAAAAAAAAAAAAAAAAAAAADXMxNDyuwnaU0Z2vUVIoYYoqYAzn_05-tiy_v8W2Lfc/img.png?credential=yqXZFxpELC7KVnFOS48ylbz2pIh7yKj8&expires=1772290799&allow_ip=&allow_referer=&signature=8DY2JwDd0xTp%2BYs7S7upTg8KYNo%3D)

그림과 같이 잘 된다!