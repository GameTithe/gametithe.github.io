---
title: "[알고리즘] 백준 11286번: 절댓값 힙 (C++)"
date: 2025-07-04
toc: true
categories:
  - "Tistory"
tags:
  - "tistory"
---

문제를 보고 생각이 든것은

음수와 양수의 절대값이 동일하니, 이를 구별하는 것이 관건이라는 생각이 들었습니다.

그래서 생각한 아이디어는 pair<int,int>로 만들어서

second로 값을 절대값을 비교하고, 이게 동일하다면

first를 통해서 부호를 비교해야겠다는 생각이 들었습니다.

근데 first까지 if문으로 하기에는 너무 멍청하게 푸는게 아닐까라는 생각에 더 고민을 해보다가

operator overloading을 해야겠다는 생각이 들었습니다.

그냥 값을 저장할 때 부호까지 고려해서하자!!  
그래서 오버로딩을 사용해서 문제를 풀었습니다.

이렇게 풀고 나서 코드가 너무 섹시한거 아닌가 생각이 들었고, 정석 코드를 봤을 때는 제 코드가 똥인 것을 다시 한 번 깨달았습니다.

내 코드:

```
#include <iostream>
#include <queue>

using namespace std;

struct Obj
{ 
    Obj(int a, int b)
    {
        p = std::make_pair(a, b);
    }
    pair<int, int> p;

    bool operator < (const Obj& o) const
    {
        if (o.p.second == p.second)
        {
            return o.p.first < p.first;
        }
        else
        {
            return o.p.second < p.second;
        }
    }

};

int main() {

    ios::sync_with_stdio(false);
    cin.tie(NULL);
	priority_queue<Obj> pq;

    int n;
    cin >> n;
    
    for (int i = 0; i < n; i++)
    {
        int x;
        cin >> x;
        if(x  == 0 )
        {
            if( pq.empty()) {
                cout << 0 << "\n";
            } 
            else
            {

                int sign = pq.top().p.first;
                int num = pq.top().p.second;
                if (sign == 0) num = -num;

                cout << num << "\n";
                pq.pop();
            }
        }
        else
        {
            if (x < 0)
            {
                pq.push({ 0, -x });
            }
            else 
                pq.push({ 1, x });
        }
    }
    return 0;
}
```

그냥 우선순위 큐를 만들 때 greater로 설정하고,

first에 절대값, second에 원래 값을 넣어주면

first가 동일할 때 second를 비교합니다.

greater 덕분에 second에 값을 비교할 때 작은 수를 top으로 올려보내줍니다.. ^^;

정석코드:

```
#include <iostream>
#include <queue>

using namespace std;
 

int main() {

    ios::sync_with_stdio(false);
    cin.tie(NULL);
	priority_queue<pair <int, int> , vector<pair<int, int>>, greater<pair<int, int>>>pq;

    int n;
    cin >> n;
    
    for (int i = 0; i < n; i++)
    {
        int x;
        cin >> x;
        if(x  == 0 )
        {
            if( pq.empty()) {
                cout << 0 << "\n";
            } 
            else
            {
                cout << pq.top().second << "\n";
                pq.pop();
            }
        }
        else
        {
            pq.emplace(abs(x), x);
        }
    }
    return 0;
}
```