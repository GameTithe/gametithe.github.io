---
title: "[알고리즘] 백준 7662: 이중우선순위 큐 (C++)"
date: 2025-07-04
toc: true
categories:
  - "Tistory"
tags:
  - "tistory"
---

문제 이름에 걸맡게 priority queue 2개를 사용해서 풀려고했다.

우선 이 문제를 풀기 위해서 priority queue 2개를 만들어서

하나는 최대값을, 하나는 최소값을 관리하도록 하려고했다.

음.. 구현하면서 생각난 문제들

1. 두 곳을 동일하게 관리하고 싶다?

=> 1번에서 최대값을 pop했을 때 2번에서 최대값을 pop할 수 있나..? X

2. 최대값 queue는 empty이고, 최소값 queue는 5개 이상 값이 남아있을 때, 최대값 pop을 하려면??

이런 난제를 해결할 수 없었다...

내 코드:

```
FAIL
```

근데 역시 다른 방법이었던 것이었던 것인가..

map을 사용했다.. ㅇ..ㅇ.?

map을 사용해야된다는 것을 떠올리기 위해서는 map이 오름차순 정렬을 해준다는 것을 알았어야 한다.

map<int, int> 일 때로 예를 들면 first 값을 비교해서 기준으로 오름차순 정렬을 해준다.

first는 값, second는 들어온 횟수로 설정하면 문제를 풀 수 있다.

begin()->second를 하면 최소값을

rbegin()->second를 하면 최대값을 얻을 수 있는 것이다.

정석 코드:

```
#include <iostream>
#include <queue>
#include <map>
using namespace std;
 

int main()
{

    ios::sync_with_stdio(false);
    cin.tie(NULL);
    priority_queue<int, vector<int>, less<int>> pq1;
    priority_queue<int, vector<int>, greater<int>> pq2;

    map<int, int> mp;


    int t;
    cin >> t;

    for (int i = 0; i < t; i++)
    {
        int n;
        cin >> n;
         
        for (int j = 0; j < n; j++)
        {
            char ch;
            cin >> ch;
            int num;
            cin >> num;

            switch (ch)
            {
            case 'I':
                mp[num]++;
                break;

            case 'D':
                if (mp.empty()) break;
                if (num == 1)
                {
                    mp.rbegin()->second--;
                    if(mp.rbegin()->second == 0)
                        mp.erase(mp.rbegin()->first);
                }
                else if (num == -1)
                {
                    mp.begin()->second--;
                    if (mp.begin()->second == 0)
                        mp.erase(mp.begin()->first);
                }
                break;
            } 
        }
        if (mp.empty()) cout << "EMPTY" << "\n";
        else cout << mp.rbegin()->first << " " << mp.begin()->first << "\n";
        mp.clear();
    }
        return 0;
}
```