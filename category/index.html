---
layout: default
---

<style>
  @import url("https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css");

  :root {
    --bg: #f3f6fb;
    --panel: #ffffff;
    --ink: #0f172a;
    --sub: #64748b;
    --line: #e2e8f0;
    --accent: #1363df;
    --shadow: 0 18px 36px rgba(15, 23, 42, 0.08);
  }

  .page-content {
    background: radial-gradient(circle at 10% 0%, #e8f0ff 0%, #f6f8fc 34%, #f3f6fb 100%);
  }

  .page-content .wrapper {
    max-width: 1120px;
    padding-top: 24px;
    padding-bottom: 28px;
  }

  .ct-layout {
    font-family: "Pretendard", "Noto Sans KR", sans-serif;
    color: var(--ink);
    display: grid;
    gap: 14px;
  }

  .ct-panel {
    background: var(--panel);
    border: 1px solid var(--line);
    border-radius: 18px;
    padding: 18px;
    box-shadow: var(--shadow);
  }

  .ct-breadcrumb {
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
    color: #334155;
    font-size: 0.92rem;
  }

  .ct-breadcrumb a {
    text-decoration: none;
    color: #0d4dc7;
    font-weight: 600;
  }

  .ct-title {
    margin: 0;
    font-size: 1.2rem;
  }

  .ct-subtitle {
    margin: 6px 0 0;
    color: var(--sub);
    font-size: 0.92rem;
  }

  .ct-posts {
    display: grid;
    gap: 11px;
  }

  .ct-post {
    border: 1px solid #e9eef6;
    border-radius: 12px;
    padding: 12px;
    background: #fff;
  }

  .ct-post-top {
    display: grid;
    grid-template-columns: 120px minmax(0, 1fr);
    gap: 12px;
    align-items: start;
  }

  .ct-thumb {
    width: 120px;
    height: 80px;
    border-radius: 10px;
    object-fit: cover;
    border: 1px solid #e2e8f0;
    background: #f8fafc;
    display: block;
  }

  .ct-meta {
    font-size: 0.81rem;
    color: var(--sub);
    margin-bottom: 6px;
  }

  .ct-post-title {
    margin: 0 0 6px;
    font-size: 1rem;
    line-height: 1.4;
  }

  .ct-post-title a {
    color: #0f172a;
    text-decoration: none;
  }

  .ct-post-title a:hover {
    color: #0d4dc7;
  }

  .ct-excerpt {
    margin: 0;
    color: #475569;
    font-size: 0.9rem;
    line-height: 1.55;
  }

  .ct-empty {
    color: #64748b;
    font-size: 0.95rem;
  }

  @media (max-width: 640px) {
    .ct-post-top {
      grid-template-columns: 1fr;
    }

    .ct-thumb {
      width: 100%;
      height: 180px;
    }
  }
</style>

<section class="ct-layout">
  <section class="ct-panel">
    <div class="ct-breadcrumb">
      <a href="{{ '/' | relative_url }}">Home</a>
      <span>/</span>
      <span>Category</span>
    </div>
    <h1 class="ct-title" id="ct-heading">Category posts</h1>
    <p class="ct-subtitle" id="ct-description">Select a category card from home.</p>
  </section>

  <section class="ct-panel">
    <div id="ct-posts" class="ct-posts"></div>
    <p id="ct-empty" class="ct-empty" hidden>No posts found for this category combination.</p>
  </section>
</section>

<script>
  window.__CATEGORY_POSTS__ = [
    {% for post in site.posts %}
      {% assign main = post.categories | first | default: "Uncategorized" %}
      {% assign sub = post.sub_category | default: post.subcategory | default: post.categories[1] | default: "General" %}
      {% assign auto_thumb = '/assets/images/posts/' | append: post.slug | append: '/img-1.png' %}
      {% assign auto_thumb_file = site.static_files | where: "path", auto_thumb | first %}
      {% assign thumb = '/assets/images/profile/GameTithe.png' %}
      {% if auto_thumb_file %}
        {% assign thumb = auto_thumb %}
      {% endif %}
      {
        "title": {{ post.title | jsonify }},
        "url": {{ post.url | relative_url | jsonify }},
        "date": {{ post.date | date: "%Y.%m.%d" | jsonify }},
        "excerpt": {{ post.excerpt | strip_html | strip_newlines | truncate: 140 | jsonify }},
        "main": {{ main | jsonify }},
        "sub": {{ sub | jsonify }},
        "thumb": {{ thumb | relative_url | jsonify }}
      }{% unless forloop.last %},{% endunless %}
    {% endfor %}
  ];

  (function () {
    const params = new URLSearchParams(window.location.search);
    const main = params.get("main") || "";
    const sub = params.get("sub") || "";

    const posts = window.__CATEGORY_POSTS__.filter((post) => {
      if (!main) return true;
      if (sub) return post.main === main && post.sub === sub;
      return post.main === main;
    });

    const heading = document.getElementById("ct-heading");
    const description = document.getElementById("ct-description");
    const list = document.getElementById("ct-posts");
    const empty = document.getElementById("ct-empty");

    if (main && sub) {
      heading.textContent = `${main} / ${sub}`;
      description.textContent = `Showing posts in ${main} > ${sub}`;
    } else if (main) {
      heading.textContent = `${main}`;
      description.textContent = `Showing posts in ${main}`;
    } else {
      heading.textContent = "All posts";
      description.textContent = "No category selected. Showing every post.";
    }

    if (!posts.length) {
      empty.hidden = false;
      return;
    }

    list.innerHTML = posts.map((post) => {
      return `
        <article class="ct-post">
          <div class="ct-post-top">
            <a href="${post.url}">
              <img class="ct-thumb" src="${post.thumb}" alt="${post.title} thumbnail" loading="lazy" />
            </a>
            <div>
              <div class="ct-meta">${post.date} �� ${post.main} �� ${post.sub}</div>
              <h2 class="ct-post-title"><a href="${post.url}">${post.title}</a></h2>
              <p class="ct-excerpt">${post.excerpt}</p>
            </div>
          </div>
        </article>
      `;
    }).join("");
  })();
</script>
